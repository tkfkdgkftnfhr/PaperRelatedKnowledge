## 매개 중심성 (betweenness centrality)이란?

![graph](https://t1.daumcdn.net/cfile/tistory/2713903458CCE1DB12)

이 중심성 척도는 노드들 간의 최단 경로를 가지고 계산됩니다.  

A도시의 중요성을 보기 위해서는 A를 제외한 도시에 사는 사람들이 다른 도시로 이동할때 얼마나 A를 거쳐가는지를 살펴보면 된다는 아이디어를 바탕으로 하고 있습니다.  

그래프 이론의 용어로 다시 써보자면, 노드 A의 중요성은 A가 아닌 X, Y노드에 대해 X-Y의 최단 경로에 A가 포함되어있는 비율로 볼 수 있다는 거죠.  

이 경우 노드 X에서 Y로 지나가는 최단 경로들이 항상 A를 거쳐간다면 그 값은 1이 됩니다.  

반대로 노드 X,Y에 대해서 X에서 Y로 지나가는 최단 경로들이 하나도 A를 거쳐가지 않으면 그 값은 0이 됩니다.  

이 값들을 A를 제외한 모든 노드들에 계산하여 합치면 그 값이 바로 Cb입니다.<br></br>

Cb값도 네트워크 규모에 따라 그 크기가 달라질 수 있으니 다른 네트워크와 비교하기 위해서는 정규화를 해줄 필요가 있습니다.  

간단한 정규화 방법으로는 가능한 최대의 Cb값으로 나눠버리는 것입니다. 전체 노드의 갯수가 N개라고 하면, 한 노드 A를 선택하고 남은 노드의 갯수는 N-1개입니다.  

N-1개 중에서 순서 상관없이 2개를 뽑는 경우는 총 (N-1) * (N-2) / 2가지입니다.  

이 값들이 모두 1이 나오는 경우가 최대값일테니 노드 갯수가 N인 네트워크의 최대 Cb값은 (N-1) * (N-2) / 2가 됩니다.  

이 값으로 나눠서 정규화시키면 정규화된 Cb값은 항상 0~1사이에 위치하게 됩니다.<br></br>

위의 그래프를 가지고 예를 들어봅시다. 노드 A의 매개 중심성을 계산하기 위해서는 A를 제외한 B~E들 간의 이동경로를 살펴봐야 합니다.  

B-C, B-D, B-E, C-D, C-E, D-E 중 어떤 경우도 A를 거쳐가는 일이 없습니다. 그러므로 이 경우는 계산할 것도 없이 **Cb(A) = 0**입니다.  

B를 살펴볼까요? A-C, A-D, A-E, C-D, C-E, D-E 중에서 A-C의 경우 **A-B-C** 또는 **A-E-C**를 거쳐가는 경우가 최단 경로가 됩니다.  

따라서 A-C의 경우 B를 거쳐갈 확률이 0.5입니다. 나머지는 경우는 없으므로 **Cb(B) = 0.5**입니다.  

반면 제일 중심에 있어보이는 E를 살펴봅시다.  

A-B, A-C, A-D, B-C, B-D, C-D 중에서 A-C의 경우 **A-B-C, A-E-C**의 경로가 있으므로 이 경우 E를 거칠 확률이 0.5, A-D의 경우는 **A-E-D**밖에 없으므로  

확률이 1, B-D의 경우 **B-E-D** 밖에 없으므로 이 경우도 1, C-D의 경우 역시 **C-E-D** 밖에 없으므로 1입니다. 따라서 **Cb(E) = 0.5 + 1 + 1 + 1 = 3.5**입니다.  

모든 중심성 값을 구해 벡터 형태로 표현하면

![vector](https://t1.daumcdn.net/cfile/tistory/214BDB4658CCF0DC11)

